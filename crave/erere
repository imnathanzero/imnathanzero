echo 'Initialize ROM and Device manifests'
rm -rf .repo/local_manifests &&
repo init -u https://github.com/ResurrectionRemix-Revived/manifest.git -b Q --git-lfs
git clone --depth=1 https://github.com/imnathanzero/device_realme_RMX1941.git -b 10-rr device/realme/RMX1941
git clone --depth=1 https://github.com/imnathanzero/kernel_realme_RMX1941.git -b cassia kernel/realme/RMX1941
git clone --depth=1 https://github.com/imnathanzero/vendor_realme_RMX1941.git -b que vendor/realme/RMX1941
rm -rf prebuilts/clang/host/linux-x86
git clone --depth=1 https://android.googlesource.com/platform/prebuilts/clang/host/linux-x86/ -b android-10.0.0_r47 prebuilts/clang/host/linux-x86 

# Sync the repositories
echo "Sync begin"
repo sync -c --no-clone-bundle --no-tags --optimized-fetch --prune --force-sync -j8

. build/envsetup.sh

# Build the ROM
export KBUILD_BUILD_USER=ok
export KBUILD_BUILD_HOST=root
export LOCALVERSION="-endfiewd"
export BUILD_USERNAME=nathannxx
export BUILD_HOSTNAME=omkegams
export GAPPS=true
echo "BUILD STARTS NOW"
lunch rr_RMX1941-userdebug
m bacon
